<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Web Admin - Pengaturan Halaman Kedua</title>
<style>
:root {
  --bg: #111;
  --card: #1e1e1e;
  --text: #fff;
  --accent: #f5f5f5;
  --accent2: #c9c9c9;
  --warn: #f39c12;
  --danger: #e74c3c;
  --radius: 10px;
  --shadow: 0 4px 15px rgba(0,0,0,0.4);
}
* {box-sizing: border-box;}
body {
  font-family: "Poppins", sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 0;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}
.card {
  background: var(--card);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
  padding: 24px;
  max-width: 480px;
  width: 90%;
  text-align: center;
}
h1 {margin-top: 0; color: var(--accent);}
label {display:block;text-align:left;margin-top:12px;color:var(--accent2);}
input[type=text]{
  width:100%;
  padding:10px;
  border:none;
  border-radius:var(--radius);
  background:#2a2a2a;
  color:#fff;
  margin-top:4px;
}
.buttons {
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  margin-top:16px;
}
button {
  flex:1;
  min-width:100px;
  border:none;
  border-radius:var(--radius);
  padding:10px 14px;
  cursor:pointer;
  color:#000;
  font-weight:600;
  transition:0.2s;
}
button.save {background:var(--accent);}
button.open {background:#555;color:#fff;}
button.clear {background:var(--danger);color:#fff;}
button.fix {background:var(--warn);}
button.off {background:#2ecc71;color:#000;}
.status {
  margin-top:16px;
  background:#2a2a2a;
  padding:10px;
  border-radius:var(--radius);
  text-align:left;
  font-size:14px;
}
small{color:#aaa;}
</style>
</head>
<body>
  <div class="card">
    <h1>âš™ï¸ Admin Web</h1>
    <p style="color:#ccc;font-size:14px">Atur link & mode perbaikan untuk halaman kedua.</p>

    <label>Link Halaman Kedua</label>
    <input id="linkInput" type="text" placeholder="https://contoh.com/isi.html">

    <div class="buttons">
      <button class="save" id="saveBtn">ğŸ’¾ Simpan</button>
      <button class="open" id="openBtn">ğŸ”— Buka</button>
      <button class="clear" id="clearBtn">ğŸ—‘ï¸ Hapus</button>
    </div>

    <hr style="border:0;border-top:1px solid #333;margin:20px 0">

    <div class="buttons">
      <button class="fix" id="enableBtn">ğŸš§ Aktifkan Perbaikan</button>
      <button class="off" id="disableBtn">âœ… Nonaktifkan</button>
    </div>

    <div class="status">
      <div><b>Status:</b></div>
      <div>Link saat ini: <span id="curLink">-</span></div>
      <div>Mode perbaikan: <span id="curMaint">-</span></div>
    </div>
  </div>

<script>
const KEY_LINK = 'pageLink';
const KEY_MAINT = 'maintenanceMode';

const linkInput = document.getElementById('linkInput');
const saveBtn = document.getElementById('saveBtn');
const openBtn = document.getElementById('openBtn');
const clearBtn = document.getElementById('clearBtn');
const enableBtn = document.getElementById('enableBtn');
const disableBtn = document.getElementById('disableBtn');
const curLink = document.getElementById('curLink');
const curMaint = document.getElementById('curMaint');

function refresh(){
  const link = localStorage.getItem(KEY_LINK);
  const maint = localStorage.getItem(KEY_MAINT) === 'true';
  curLink.textContent = link ? link : '-';
  curMaint.textContent = maint ? 'AKTIF ğŸš§' : 'NORMAL âœ…';
  linkInput.value = link || '';
}

saveBtn.onclick = ()=>{
  const val = linkInput.value.trim();
  if(!val) return alert('Masukkan link terlebih dahulu!');
  localStorage.setItem(KEY_LINK,val);
  alert('âœ… Link tersimpan!');
  refresh();
};

// BAGIAN INI YANG DIGANTI BIAR JALAN DI APK
openBtn.onclick = ()=>{
  const val = linkInput.value.trim();
  if(!val) return alert('Masukkan link dulu!');
  localStorage.setItem(KEY_LINK,val);
  window.location.href = `https://anezz001.github.io/admin/page.html?link=${encodeURIComponent(val)}`;
};
// SAMPAI SINI

clearBtn.onclick = ()=>{
  localStorage.removeItem(KEY_LINK);
  alert('ğŸ—‘ï¸ Link dihapus.');
  refresh();
};
enableBtn.onclick = ()=>{
  localStorage.setItem(KEY_MAINT,'true');
  alert('ğŸš§ Mode perbaikan diaktifkan.');
  refresh();
};
disableBtn.onclick = ()=>{
  localStorage.setItem(KEY_MAINT,'false');
  alert('âœ… Mode perbaikan dinonaktifkan.');
  refresh();
};

refresh();
</script>
</body>
</html>